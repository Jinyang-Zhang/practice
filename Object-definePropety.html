<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<form class="form">
            <p>name:<input type='text' name='name' class="name"/></p>
            <p>age:<input type='text' name='age' class='age'/></p>
        </form>
		<script>
			let person = {
                _data: {
                    name: '',
                    age: '',
                }
            }
            let form = document.querySelector('form')
            Object.defineProperty(person, 'name', {
                get() {
                    console.log('name被获取了')
                    return person._data.name
                },
                set(value) {
                    console.log('name被修改了', person)
                    let name = document.querySelector('.name')
                    name.value = value
                    person._data.name = value
                }
            })
            Object.defineProperty(person, 'age', {
                get() {
                    console.log('age被获取了')
                    return person._data.age
                },
                set(value) {
                    console.log('age被修改了',person )
                    let age = document.querySelector('.age')
                    age.value = value
                    person._data.age = value
                }
            })
            form.addEventListener('input', (e) => {
                let value = e.target.value
                let name = e.target.getAttribute('name')
                person[name] = value
            })
		</script>
	</body>
</html>
