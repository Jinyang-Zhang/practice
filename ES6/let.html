<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>ES6-let</title>
	</head>
	<body>
        <p>ES6-let</p>
		<script>
			// 块级作用域
			var varA = [];
			for (var a = 0; a < 10; a++) {
				varA[a] = function () {
					console.log(a);
				};
			}
			varA[6]();  // 10

			let letB = [];
			for (var b = 0; b < 10; b++) {
				letB[b] = function () {
					console.log(b);
				};
			}
			letB[6](); // 6

			for (let c = 0; c < 3; c++) {
				let c = 'abc';
				console.log(c)
			}
			// abc     设置循环变量那部分是一个父作用域
			// abc     而循环体内部是一个单独的子作用于
			// abc

			// 不存在变量提升
			console.log(varB); // undefined
			var varB = 2;

			console.log(letA); // 报错
			let letA = 2;

			// 暂时性死区
			// 在代码块内，使用let命令声明变量之前，该变量都是不可用的。
			// 只要一进入当前作用域，索要使用的变量就已经存在了，但是不可获取，
			// 只有等到声明变量的那一行代码出现，才可以获取和使用该变量。
			var tmp = 123;
			if (true) {
				tmp = 'abc'; // 报错
				let tmp;
			}

			// 不允许重复声明
			// let不允许在相同作用域内，重复声明同一变量。
			function func(arg) {
				let arg;
			}
			func()  // 报错
			function func(arg) {
				return
				{
					let arg;
				}
			}
			func()  // 不报错
		</script>
	</body>
</html>
<!-- all():
Promise.all()方法用于将多个Promise实例，包装成一个新的Promise实例。 -->
